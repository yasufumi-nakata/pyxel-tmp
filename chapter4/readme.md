# Chapter 4: スプライトとアニメーション

このチャプターでは、Pyxelエディタを使ってスプライトを作成し、ゲームに描画する方法を学びます。さらに、アニメーションを実装する方法も紹介します。

## 目次
1. Pyxelエディタの使い方
2. スプライトの描画
3. アニメーションの実装

### 1. Pyxelエディタの使い方
Pyxelエディタは、Pyxelに付属するグラフィック・サウンド・マップエディタです。以下のコマンドで起動します。
```
pyxel edit my_resource.pyxres
```
これにより、`my_resource.pyxres`という名前でリソースファイルが作成されます。リソースファイルには、スプライトやタイルマップ、音楽などのゲームデータが保存されます。

**画像タブ**では、スプライトや背景などの画像データを作成・編集できます。16色のパレットから色を選んで描画しましょう。

### 2. スプライトの描画
スプライトを描画するには、`pyxel.blt`関数を使います。スプライトの座標とサイズ、画像バンク番号、画像上の座標を指定します。
```python
pyxel.blt(x, y, img, u, v, w, h)
```
- `x`, `y`: スプライトの描画座標
- `img`: 画像バンク番号（0～2）
- `u`, `v`: 画像上の座標
- `w`, `h`: スプライトの幅と高さ

### 3. アニメーションの実装
アニメーションを実装するには、フレームごとにスプライトの画像上の座標を変更します。以下の例では、`pyxel.frame_count`を使ってアニメーションのタイミングを制御しています。

```python
class Player:
    def __init__(self, x, y):
        self.x = x
        self.y = y

    def update(self):
        if pyxel.btn(pyxel.KEY_LEFT):
            self.x -= 1
        if pyxel.btn(pyxel.KEY_RIGHT):
            self.x += 1

    def draw(self):
        u = int(pyxel.frame_count / 4) % 3 * 16
        pyxel.blt(self.x, self.y, 0, u, 0, 16, 16)
```

このチャプターで学んだスプライトの描画とアニメーションの実装を使って、キャラクターやオブジェクトをゲームに追加しましょう。次のチャプターでは、キーボード入力によるキャラクターの操作方法を学びます。
